import{_ as O}from"./C60_ePHw.js";import{b as U,w as v,x as B,y as N,z as D,A,r as E,_ as z,P as w,M as V,B as X,D as y,F as G,f as j,G as H}from"./BZQrJoCF.js";import{f,o as m,c as p,a as o,t as h,h as u,p as g,e as k,_ as x,ax as J,ay as K,U as b,b as d,a1 as Q,R as I,Q as C,az as q,av as R,w as W,F as Y,r as Z,g as ee}from"./CTBHJ-SC.js";import{_ as se}from"./B2VvftIS.js";const L=a=>(g("data-v-0c3f83f5"),a=a(),k(),a),te={class:"file-options hstack space-x-2"},oe=["aria-label"],ae=L(()=>o("span",{"i-ic:baseline-save-as":"","text-lg":""},null,-1)),ne=["aria-label"],re=L(()=>o("span",{"i-ic:round-upload-file":"","text-lg":""},null,-1)),ue=f({__name:"FileOptions",emits:["update"],setup(a){return U("shift+ctrl+s",v),(s,e)=>(m(),p("div",te,[o("button",{"aria-label":s.$t("resumes.saveas"),onClick:e[0]||(e[0]=(...n)=>("saveResumesToLocal"in s?s.saveResumesToLocal:u(v))&&("saveResumesToLocal"in s?s.saveResumesToLocal:u(v))(...n))},[ae,o("span",null,h(s.$t("resumes.saveas")),1)],8,oe),o("button",{"aria-label":s.$t("resumes.import"),onClick:e[1]||(e[1]=()=>("importResumesFromLocal"in s?s.importResumesFromLocal:u(B))(()=>s.$emit("update")))},[re,o("span",null,h(s.$t("resumes.import")),1)],8,ne)]))}}),ie=x(ue,[["__scopeId","data-v-0c3f83f5"]]),me={"w-56":"","h-80":""},ce=["aria-label"],le=o("span",{"i-ic:round-plus":"",text:"5xl light-c group-hover:brand"},null,-1),de=[le],pe=f({__name:"NewResume",setup(a){const s=J(),e=K(),n=async()=>{const r=await N();s.push(e(`/edit/${r}`))};return(r,i)=>(m(),p("div",me,[o("button",{class:"resume-card group w-[210px] h-[299px] flex-center bg-darker-c hover:bg-c","aria-label":r.$t("resumes.new"),onClick:n},de,8,ce)]))}}),S=a=>(g("data-v-4be45f02"),a=a(),k(),a),_e={class:"absolute right-3 top-3 space-y-2"},he=S(()=>o("span",{"i-ion:duplicate":""},null,-1)),fe=[he],$e=S(()=>o("span",{"i-material-symbols:delete-outline-rounded":""},null,-1)),ve=[$e],we=f({__name:"ResumeOptions",props:{resume:{}},emits:["update"],setup(a,{emit:s}){const e=a,n=s,r=async()=>{await D(e.resume.id),n("update")},i=async()=>{await A(e.resume.id),n("update")};return(_,c)=>(m(),p("div",_e,[o("button",{onClick:r},fe),o("button",{onClick:i},ve)]))}}),ye=x(we,[["__scopeId","data-v-4be45f02"]]),be={"text-center":""},Re={key:0,"text-xs":"","text-light-c":"","mt-1.5":""},ge={"text-xs":"","text-light-c":"","mt-0.5":""},ke=f({__name:"ResumeInfo",props:{resume:{}},emits:["update"],setup(a,{emit:s}){const e=a,n=s,r=async t=>{await E(e.resume.id,t),n("update")},i=t=>t&&new Date(parseInt(t)).toISOString().substring(0,19).replace("T"," ").replaceAll("-","/"),_=b(()=>i(e.resume.id)),c=b(()=>i(e.resume.update));return(t,l)=>{const $=z;return m(),p("div",be,[d($,{id:`resumes-rename-${t.resume.id}`,class:"w-53 mx-auto",default:t.resume.name,"on-value-commit":r},null,8,["id","default"]),u(c)?(m(),p("div",Re,h(t.$t("resumes.updated"))+h(u(c)),1)):Q("",!0),o("div",ge,h(t.$t("resumes.created"))+h(u(_)),1)])}}}),xe={"w-56":"","h-80":""},Ie=f({__name:"ResumeItem",props:{resume:{}},emits:["update"],setup(a,{emit:s}){const e=a,n=s,r=w[e.resume.styles.paper].w,i=w[e.resume.styles.paper].h,_=I(),c=async()=>{X(e.resume.css,e.resume.id),await y(e.resume.styles.fontEN),await y(e.resume.styles.fontCJK),G(e.resume.styles,e.resume.id),_.value.forceUpdate()};return C(c),q(c),(t,l)=>{const $=j,F=se,P=ye,T=ke;return m(),p("div",null,[o("div",xe,[o("div",{class:"resume-card group border border-c",style:R({width:`${u(r)}px`,height:`${u(i)}px`})},[d(F,{to:t.$nuxt.$localePath(`/edit/${e.resume.id}`)},{default:W(()=>[d($,{id:t.resume.id,ref_key:"render",ref:_,markdown:t.resume.markdown,styles:t.resume.styles,style:R({transform:`scale(${1/("MM_TO_PX"in t?t.MM_TO_PX:u(V))})`}),class:"origin-top-left"},null,8,["id","markdown","styles","style"])]),_:1},8,["to"]),d(P,{class:"group-hover:block hidden",resume:t.resume,onUpdate:l[0]||(l[0]=M=>n("update"))},null,8,["resume"])],4)]),d(T,{resume:t.resume,onUpdate:l[1]||(l[1]=M=>n("update"))},null,8,["resume"])])}}}),Ce={class:"resumes-page"},Le={class:"max-w-306 mx-auto px-5 py-16 text-dark-c"},Se={class:"space-y-2 md:hstack md:justify-between"},Fe={"font-bold":"","text-3xl":""},Pe={class:"flex flex-wrap gap-x-4 gap-y-8 mt-8"},Be=f({__name:"index",setup(a){const s=I(),e=async()=>{s.value=await H()};return C(e),(n,r)=>{const i=O,_=ie,c=pe,t=Ie;return m(),p("div",Ce,[d(i),o("div",Le,[o("div",Se,[o("h1",Fe,h(n.$t("resumes.my_resumes")),1),d(_,{onUpdate:e})]),o("div",Pe,[d(c),(m(!0),p(Y,null,Z(u(s),l=>(m(),ee(t,{key:l.id,class:"resume-item",resume:l,onUpdate:e},null,8,["resume"]))),128))])])])}}});export{Be as default};
